(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9430840"],{2831:function(e,t,a){"use strict";var i=a("ccd5"),n=a.n(i);n.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var i=a("1d80"),n=a("5899"),r="["+n+"]",o=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),s=function(e){return function(t){var a=String(i(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(l,"")),a}};e.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(e,t,a){var i=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var r,o;return n&&"function"==typeof(r=t.constructor)&&r!==a&&i(o=r.prototype)&&o!==a.prototype&&n(e,o),e}},"857a":function(e,t,a){var i=a("1d80"),n=/"/g;e.exports=function(e,t,a,r){var o=String(i(e)),l="<"+t;return""!==a&&(l+=" "+a+'="'+String(r).replace(n,"&quot;")+'"'),l+">"+o+"</"+t+">"}},a07a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",{style:e.dheight},[i("el-header",{attrs:{height:"30px"}},[i("div",{staticClass:"d1"},[i("el-row",[i("el-col",{attrs:{span:20}}),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"d2"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}]},[i("span",{staticClass:"click-span",staticStyle:{"padding-right":"15px","border-right":"1px solid #ccc"},on:{click:e.goLogin}},[e._v("登录")]),i("span",{staticClass:"click-span",staticStyle:{"padding-left":"15px","margin-right":"15px"},on:{click:e.goRegister}},[e._v("注册")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}]},[i("el-dropdown",{attrs:{"hide-timeout":300},on:{command:e.handleCommand}},[i("span",[e._v("欢迎:"+e._s(e.username||e.loginName)),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"userinfo"}},[e._v("个人信息")]),i("el-dropdown-item",{attrs:{command:"outLogin"}},[e._v("退出登录")])],1)],1)],1)])])],1)],1)]),i("el-main",[i("div",{staticStyle:{width:"95%",margin:"auto"}},[i("div",{staticClass:"main-d1"},[i("el-row",[i("el-col",{attrs:{span:6}},[i("img",{staticStyle:{width:"180px","margin-top":"20px"},attrs:{src:a("17be"),alt:""}})]),i("el-col",{attrs:{span:18}},[i("el-input",{staticStyle:{"line-height":"200px",width:"50%",float:"left"},attrs:{placeholder:"请输入电影id进行搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(e.movieId)}},model:{value:e.movieId,callback:function(t){e.movieId=t},expression:"movieId"}}),i("h3",[e._v("数据来源自豆瓣电影，仅用于学习")]),i("h4",{staticClass:"a1"},[e._v("发现我了？点我提交bug")])],1)],1)],1),i("div",{staticClass:"main-d2"},[i("el-row",[i("el-col",{attrs:{span:16}},[i("div",{staticClass:"div_movie"},[i("h3",[e._v("豆瓣推荐")]),i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(4,(function(t,a){return i("el-tab-pane",{key:a,attrs:{label:e.label[a].label,name:e.label[a].name}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},e._l(e.images.length<10?e.images.length:10,(function(t,a){return i("div",{key:a,staticClass:"item_a",on:{click:function(t){return e.search(e.indexId[a])}}},[i("el-card",{attrs:{"body-style":{padding:"0px"}}},[i("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[i("el-image",{staticStyle:{"max-width":"150px"},attrs:{slot:"reference",src:e.images[a]||e.defaultImg,alt:"找不到图片",fit:"cover"},slot:"reference"},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])]),i("img",{attrs:{src:e.images[a]||e.defaultImg,alt:"找不到图片"}})],1),i("span",{staticClass:"hidden_span",staticStyle:{"font-size":"12px",padding:"10px"},attrs:{title:e.title[a]}},[e._v(e._s(e.title[a]||"暂无"))])],1)],1)})),0)])})),1),i("el-pagination",{attrs:{layout:"prev, pager, next",total:e.mtotal},on:{"current-change":e.mChange}})],1),e._l(e.active,(function(t,a){return i("div",{key:a,staticClass:"div_movie"},[i("h3",[e._v(e._s(e.movieType[a]))]),i("el-tabs",{on:{"tab-click":function(t){return e.handleClick1(a)}},model:{value:e.$data[t.name],callback:function(a){e.$set(e.$data,t.name,a)},expression:"$data[item0.name]"}},e._l(e.movieLabel[a].length,(function(t,n){return i("el-tab-pane",{key:t,attrs:{label:e.movieLabel[a][n].label,name:e.movieLabel[a][n].name}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],staticStyle:{"min-height":"450px"}},e._l(e.movieLabel[a][n].img.length<10?e.movieLabel[a][n].img.length:10,(function(t,r){return i("div",{key:r,staticClass:"item_a",on:{click:function(t){e.search(e.movieLabel[a][n].id[r+e.numberChange(a)])}}},[void 0!=e.movieLabel[a][n].title[r+e.numberChange(a)]?i("el-card",{attrs:{"body-style":{padding:"0px"}}},[i("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[i("el-image",{staticStyle:{"max-width":"150px"},attrs:{slot:"reference",src:e.movieLabel[a][n].img[r+e.numberChange(a)]||e.defaultImg,alt:"找不到图片"},slot:"reference"}),i("img",{staticStyle:{"vertical-align":"text-top"},attrs:{src:e.movieLabel[a][n].img[r+e.numberChange(a)]||e.defaultImg,alt:"找不到图片"}})],1),i("span",{staticClass:"hidden_span",staticStyle:{"font-size":"12px",padding:"10px"},attrs:{title:e.movieLabel[a][n].title[r+e.numberChange(a)]||"暂无"}},[e._v(e._s(e.movieLabel[a][n].title[r+e.numberChange(a)]||"暂无"))])],1):e._e()],1)})),0),i("el-pagination",{attrs:{layout:"total,prev, pager, next",total:e.movieLabel[a][n].total},on:{"current-change":function(t){return e.MarvelChange(a)}}})],1)})),1)],1)})),i("div",{staticClass:"foot_div"},[e._v("小熊电影咨询平台")])],2),i("el-col",{attrs:{span:8}},[e._l(e.list,(function(t,a){return i("div",{staticStyle:{"margin-left":"50px","margin-bottom":"120px"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.list[2*a+1]))]),i("ol",e._l(e.list[2*a],(function(t,n){return i("li",{staticStyle:{"border-bottom":"1px solid #eaeaea",height:"40px","line-height":"40px"}},[i("a",{staticClass:"list_a",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.search(e.list[2*a][n].xxId)}}},[e._v(e._s(e.list[2*a][n].xxName))])])})),0)])})),e.list.length>0?i("div",{staticStyle:{width:"350px","margin-bottom":"50px","margin-left":"50px"}},[i("h3",{staticStyle:{"text-align":"center"}},[e._v("电影瞬间")]),i("el-carousel",{attrs:{height:"240px"}},e._l(4,(function(t,a){return i("el-carousel-item",{key:a},[i("h3",[i("img",{attrs:{src:e.nximg[t],alt:""}})])])})),1)],1):e._e()],2)],1)],1)])])],1)],1)},n=[],r=(a("4160"),a("b0c0"),a("a9e3"),a("ac1f"),a("5319"),a("c96a"),a("159b"),a("5530")),o=a("4aca"),l={mixins:[o["a"]],data:function(){return{active:[{name:"activeName1"},{name:"activeName2"},{name:"activeName3"},{name:"activeName4"}],activeName:"one",activeName1:"one",activeName2:"one",activeName3:"one",activeName4:"one",loading:!1,loading1:!1,taburl:"/v2/movie/in_theaters?apikey=0df993c66c0c636e29ecbb5344252a4a",movieType:["漫威系列","港片经典","国产经典","系列电影"],label:[{label:"正在热映",name:"one"},{label:"即将上映",name:"two"},{label:"新片榜",name:"three"},{label:"top250",name:"four"}],movieLabel:[[{label:"第一阶段",name:"one",img:"",title:"",total:1},{label:"第二阶段",name:"two",img:"",title:"",total:1},{label:"第三阶段",name:"three",img:"",title:"",id:"",total:1}],[{label:"周润发",name:"one",img:"",title:"",id:"",total:1},{label:"成龙",name:"two",img:"",title:"",id:"",total:1},{label:"周星驰",name:"three",img:"",title:"",id:"",total:1}],[{label:"黄渤",name:"one",img:"",title:"",id:"",total:1},{label:"沈腾",name:"two",img:"",title:"",id:"",total:1},{label:"徐峥",name:"three",img:"",title:"",id:"",total:1}],[{label:"X战警",name:"one",img:"",title:"",id:"",total:1},{label:"叶问",name:"two",img:"",title:"",id:"",total:1},{label:"碟中谍",name:"three",img:"",title:"",id:"",total:1},{label:"速度与激情",name:"four",img:"",title:"",id:"",total:1},{label:"电锯惊魂",name:"five",img:"",title:"",id:"",total:1}]],mtotal:1,loginName:"",cardData:"",movieId:"",commentId:"",username:"",apikey:"?apikey=0df993c66c0c636e29ecbb5344252a4a",douban:"https://api.douban.com",defaultImg:"https://img1.doubanio.com/icon/user_normal.jpg",currentPage:1,MarvelcurrentPage1:0,MarvelcurrentPage2:0,MarvelcurrentPage3:0,MarvelcurrentPage4:0,list:[],nximg:["https://img1.doubanio.com/view/movie_gallery_frame_hot_rec/normal/public/fb0ee7857032ee7.jpg","https://img1.doubanio.com/view/movie_gallery_frame_hot_rec/normal/public/d6549ffc78cd279.jpg","https://img3.doubanio.com/view/movie_gallery_frame_hot_rec/normal/public/02c55e19b588a00.jpg","https://img3.doubanio.com/view/photo/l/public/p2159540091.webp","https://img1.doubanio.com/view/movie_gallery_frame_hot_rec/normal/public/fb0ee7857032ee7.jpg"]}},computed:{dheight:function(){return{height:document.documentElement.clientHeight+"px"}},isLogin:function(){return!(!sessionStorage.getItem("username")||!sessionStorage.getItem("token"))},title:function(){var e=[];return""==this.cardData?e:(this.cardData.forEach((function(t,a,i){e.push(t.title)})),this.cardData?e:"")},images:function(){var e=[];return""==this.cardData?e:(this.cardData.forEach((function(t,a,i){e.push(t.images.small)})),this.cardData?e:"")},indexId:function(){var e=[];return""==this.cardData?e:(this.cardData.forEach((function(t,a,i){e.push(t.id)})),this.cardData?e:"")}},created:function(){this.card(this.taburl),this.Marvelmovie("第一阶段"),this.Marvelmovie("周润发"),this.Marvelmovie("黄渤"),this.Marvelmovie("X战警"),this.listMovie("悬疑片"),this.listMovie("日本动漫"),this.listMovie("DC系列"),this.listMovie("喜剧片"),this.loginName=sessionStorage.getItem("username"),this.username=sessionStorage.getItem("info")?JSON.parse(sessionStorage.getItem("info")).yesapi_nickname:""},methods:{search:function(e){this.$router.push({path:"/subject",query:{id:e}})},handleCommand:function(e){"userinfo"==e?this.userinfo():"outLogin"==e&&this.outLogin()},outLogin:function(){window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("username"),this.$router.replace("/index"),window.location.reload()},mChange:function(e){this.currentPage=e;var t={start:10*(this.currentPage-1),count:10*this.currentPage};this.card(this.taburl,t)},numberChange:function(e){return this["MarvelcurrentPage"+Number(e+1)]},MarvelChange:function(e){this["MarvelcurrentPage"+Number(e+1)]=10*(event.target.innerHTML-1)},card:function(e,t){var a=this;this.loading=!0,this.$http.jsonp(this.douban+e,{params:Object(r["a"])({},t)}).then((function(e){a.loading=!1,a.cardData=e.data.subjects,a.mtotal=e.data.total||10}))},Marvelmovie:function(e){var t=this;this.$utils.http.call(this,{url:"/?s=App.Table.GetMoreDataByMoreField",parameter:{model_name:"xxMovie",field_name_list:"xxType",field_value_list:e},success:function(a){var i=t.movieLabel,n=[],r=[],o=[],l=1;a.data.data.items.forEach((function(e,t,a){n.push(e.xxImg),r.push(e.xxName),o.push(e.xxId)})),l=a.data.data.items.length;for(var s=0,c=i.length;s<c;s++)for(var m=0,u=i[s].length;m<u;m++)e==i[s][m].label&&(i[s][m].img=n,i[s][m].title=r,i[s][m].id=o,i[s][m].total=l)}})},listMovie:function(e){var t=this;this.$utils.http.call(this,{url:"/?s=App.Table.GetMoreDataByMoreField",parameter:{model_name:"xxMovie",field_name_list:"xxType",field_value_list:e},success:function(a){t.list.push(a.data.data.items,e)}})},xxmovieType:function(e){return this["label"+(e+1)]},handleClick:function(e,t){"one"===e.name?this.taburl="/v2/movie/in_theaters"+this.apikey:"two"===e.name?this.taburl="/v2/movie/coming_soon"+this.apikey:"three"===e.name?this.taburl="/v2/movie/new_movies"+this.apikey:"four"===e.name&&(this.taburl="/v2/movie/top250"+this.apikey),this.card(this.taburl)},handleClick1:function(e){this["MarvelcurrentPage"+Number(e+1)]=0,this.Marvelmovie(event.target.innerHTML)}}},s=l,c=(a("2831"),a("2877")),m=Object(c["a"])(s,i,n,!1,null,"4607e28c",null);t["default"]=m.exports},a9e3:function(e,t,a){"use strict";var i=a("83ab"),n=a("da84"),r=a("94ca"),o=a("6eeb"),l=a("5135"),s=a("c6b6"),c=a("7156"),m=a("c04e"),u=a("d039"),d=a("7c73"),h=a("241c").f,g=a("06cf").f,v=a("9bf2").f,p=a("58a8").trim,f="Number",b=n[f],_=b.prototype,x=s(d(_))==f,y=function(e){var t,a,i,n,r,o,l,s,c=m(e,!1);if("string"==typeof c&&c.length>2)if(c=p(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+c}for(r=c.slice(2),o=r.length,l=0;l<o;l++)if(s=r.charCodeAt(l),s<48||s>n)return NaN;return parseInt(r,i)}return+c};if(r(f,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var w,N=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof N&&(x?u((function(){_.valueOf.call(a)})):s(a)!=f)?c(new b(y(t)),a,N):y(t)},k=i?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;k.length>C;C++)l(b,w=k[C])&&!l(N,w)&&v(N,w,g(b,w));N.prototype=_,_.constructor=N,o(n,f,N)}},af03:function(e,t,a){var i=a("d039");e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b0c0:function(e,t,a){var i=a("83ab"),n=a("9bf2").f,r=Function.prototype,o=r.toString,l=/^\s*function ([^ (]*)/,s="name";!i||s in r||n(r,s,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(e){return""}}})},c96a:function(e,t,a){"use strict";var i=a("23e7"),n=a("857a"),r=a("af03");i({target:"String",proto:!0,forced:r("small")},{small:function(){return n(this,"small","","")}})},ccd5:function(e,t,a){}}]);
//# sourceMappingURL=chunk-a9430840.94329b47.js.map